# CORE Testing System - Configuration File

# ===== NETWORK CONFIGURATION =====
WIFI_SSID=YourWiFiName
WIFI_PASS=YourWiFiPassword

# Server IP (IP komputer yang menjalankan Golang server)
# Cara cek: Windows (ipconfig), Linux/Mac (ifconfig)
SERVER_IP=192.168.1.100

# MQTT Configuration
MQTT_PORT=1883
MQTT_BROKER=tcp://test.mosquitto.org:1883
MQTT_CLIENT_ID=cjack-web-server
MQTT_TOPIC=cjack/#

# ===== HARDWARE CONFIGURATION =====

# ESP32 Pin Mapping
ESP32_RELAY_PIN=32
ESP32_VOLTAGE_SENSOR_PIN=34
ESP32_CURRENT_SENSOR_PIN=35
ESP32_LED_STATUS_PIN=2

# ESP32 Serial to Nano
ESP32_RXD2=16
ESP32_TXD2=17

# Arduino Nano Pin Mapping
NANO_INJECT_CONTROL_PIN=9
NANO_LED_PIN=13

# ===== SENSOR CALIBRATION =====

# Voltage Sensor Calibration
# Formula: V_real = ADC_value * VOLTAGE_RATIO * VOLTAGE_MULTIPLIER
VOLTAGE_RATIO=0.00489  # 5.0/1023.0 for 10-bit ADC
VOLTAGE_MULTIPLIER=5.0  # Voltage divider ratio

# Current Sensor Calibration (ACS712)
# ACS712-5A: 185mV/A
# ACS712-20A: 100mV/A  
# ACS712-30A: 66mV/A
CURRENT_SENSOR_TYPE=ACS712-5A
CURRENT_RATIO=0.185

# Sensor offset (ADC value at zero current, typically 512 for 2.5V)
CURRENT_ZERO_OFFSET=512

# ===== TEST PARAMETERS =====

# Test duration (milliseconds)
TEST_DURATION_MS=120000  # 2 minutes = 120000ms

# Injected current target (mA)
TARGET_CURRENT_MA=200

# Resistance threshold for Good/Bad status (Ohm)
RESISTANCE_THRESHOLD_OHM=10.0

# Data sampling rate (milliseconds)
SAMPLING_RATE_MS=500

# ===== WEB SERVER CONFIGURATION =====

# Server port
WEB_SERVER_PORT=8000

# Default credentials (change after first login!)
DEFAULT_USERNAME=admin
DEFAULT_PASSWORD=12345

# Session timeout (hours)
SESSION_TIMEOUT_HOURS=24

# ===== LOGGING =====

# Enable serial debug output
ENABLE_SERIAL_DEBUG=true
SERIAL_BAUD_RATE=115200

# ===== NOTES =====
# 1. Sesuaikan WIFI_SSID dan WIFI_PASS dengan WiFi Anda
# 2. Cek SERVER_IP dengan command: ipconfig (Windows) atau ifconfig (Linux/Mac)
# 3. Pin mapping harus sesuai dengan wiring hardware Anda
# 4. Kalibrasi sensor sebelum testing production
# 5. Ganti default password setelah setup!
